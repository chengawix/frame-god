{"version":3,"sources":["App.js","index.js","wix-api.js"],"names":["App","react_default","a","createElement","lib_default","html","onChange","_ref","text","markup","storage","setItem","Component","ReactDOM","render","src_App_0","document","getElementById","uuidv4","require","queue","request","data","requestId","Promise","resolve","reject","message","src","type","window","parent","postMessage","addEventListener","event","origin","responseBody","isError","handler","error","module","exports","getItem","key","api","args","value","wixData","get","collection","id"],"mappings":"6NAeeA,2LANX,OACEC,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CAAYG,KALA,sHAKsBC,SAAU,SAAAC,KAAEC,KAAFD,EAAOF,KAAP,IAAYI,EAAZF,EAAYE,OAAZ,OAAsBC,UAAQC,QAAQ,SAASF,aAH/EG,cCClBC,IAASC,OAAOb,EAAAC,EAAAC,cAACY,EAAD,MAASC,SAASC,eAAe,6BCRjD,IAAMC,EAASC,EAAQ,KAEnBC,EAAQ,GAEZ,SAASC,EAAQC,GACb,IAAIC,EAAYL,IAChB,OAAO,IAAIM,QAAQ,SAACC,EAASC,GACzBN,EAAMG,GAAa,CAACE,EAASC,GAC7B,IAAIC,EAAU,CACVC,IAAK,aACLC,KAAM,UACNN,UAAWA,EACXD,KAAMA,GAEVQ,OAAOC,OAAOC,YAAYL,EAAS,OAI3CG,OAAOG,iBAAiB,UAAW,SAACC,GAAQ,IACnCZ,EAAgBY,EAAhBZ,KACAO,GADgBK,EAAVC,OACyCb,EAA/CO,MAAMN,EAAyCD,EAAzCC,UAAgBa,EAAyBd,EAA9BA,KAAmBe,EAAWf,EAAXe,QACzC,GAAa,YAATR,EAAoB,CACpB,GAAIT,EAAMG,GAAY,CAClB,IAAIe,EAAUlB,EAAMG,GAChBc,EAASC,EAAQ,GAAGF,EAAaG,OAChCD,EAAQ,GAAGF,UAIbhB,EAAMG,MAIrBiB,EAAOC,QAAU,CACb/B,QAAQ,CACJgC,QAAQ,SAACC,GACL,OAAOtB,EAAQ,CACXuB,IAAK,UACLC,KAAM,CAACF,MAGfhC,QAAQ,SAACgC,EAAIG,GACT,OAAOzB,EAAQ,CACXuB,IAAK,UACLC,KAAM,CAACF,EAAIG,OAIvBC,QAAS,CACLC,IAAK,SAACC,EAAYC,GACd,OAAO7B,EAAQ,CACXuB,IAAK,aACLC,KAAM,CAACI,EAAYC","file":"static/js/main.955826bc.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport JiraEditor from \"react-jira-editor\";\nimport {storage} from \"./wix-api\";\nimport './App.scss';\n\nvar initialContent = `<h4>Description:</h4><p></p><h4>Steps to reproduce:</h4><p></p><h4>Business Impact:</h4><p></p><h4>How to fix:</h4>`;\n\nclass App extends Component {\n  render() {\n    return (\n      <JiraEditor html={initialContent} onChange={({text,html,markup})=>storage.setItem(\"markup\",markup)} />\n      )\n}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","const uuidv4 = require('uuid/v4');\r\n\r\nlet queue = {};\r\n\r\nfunction request(data){\r\n    let requestId = uuidv4();\r\n    return new Promise((resolve, reject)=>{\r\n        queue[requestId] = [resolve, reject];\r\n        let message = {\r\n            src: \"descendant\",\r\n            type: \"wix-api\",\r\n            requestId: requestId,\r\n            data: data\r\n        };\r\n        window.parent.postMessage(message, \"*\");\r\n    });\r\n}\r\n\r\nwindow.addEventListener(\"message\", (event)=>{\r\n    let {data, origin} = event;\r\n    let {type, requestId, data:responseBody, isError} = data;\r\n    if (type === \"wix-api\") {\r\n        if (queue[requestId]) {\r\n            let handler = queue[requestId];\r\n            if (isError) handler[1](responseBody.error);\r\n            else handler[0](responseBody);\r\n        }\r\n        \r\n        \r\n        delete queue[requestId];\r\n    }\r\n})\r\n\r\nmodule.exports = {\r\n    storage:{\r\n        getItem:(key)=>{\r\n            return request({\r\n                api: \"getItem\",\r\n                args: [key]\r\n            })\r\n        },\r\n        setItem:(key,value)=>{\r\n            return request({\r\n                api: \"setItem\",\r\n                args: [key,value]\r\n            })\r\n        }\r\n    },\r\n    wixData: {\r\n        get: (collection, id) =>{\r\n            return request({\r\n                api: \"wixDataGet\",\r\n                args: [collection, id]\r\n            })\r\n        }\r\n        // ,query(collection, )\r\n    }\r\n}"],"sourceRoot":""}